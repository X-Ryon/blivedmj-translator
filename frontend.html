<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>弹幕姬-但是人工智障翻译版</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="height:100vh;margin:0;padding:0;">
    <div id="login-wrap" style="display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;width:100vw; margin-top:-50px;">
        <div id="config-panel" style="width:400px;max-width:400px;min-width:400px;">
            <div style="margin-bottom:22px; padding:18px 12px; background:rgba(44,44,44,0.85); border-radius:8px;">
                <div style="font-weight:bold; margin-bottom:10px; color:#ffffff;">直播间设置</div>
                <div style="margin-bottom:14px;">
                    <label for="roomid">房间号:</label><br>
                    <input id="roomid" style="width:90%;height:38px;font-size:18px;border-radius:6px;border:1px solid #888;padding:6px 10px;" />
                </div>
                <div>
                    <label for="sessdata">SESSDATA:<br><span style="font-size:12px;color:#aaa;">(可不填，不填则不显示发送者名称)</span></label><br>
                    <input id="sessdata" style="width:90%;height:38px;font-size:18px;border-radius:6px;border:1px solid #888;padding:6px 10px;" />
                </div>
            </div>
            <div style="margin-bottom:22px; padding:18px 12px; background:rgba(44,44,44,0.85); border-radius:8px;">
                <div style="font-weight:bold; margin-bottom:10px; color:#ffffff;">百度翻译API设置</div>
                <div style="margin-bottom:14px;">
                    <label for="appid">APP ID:</label><br>
                    <input id="appid" style="width:90%;height:38px;font-size:18px;border-radius:6px;border:1px solid #888;padding:6px 10px;" />
                </div>
                <div>
                    <label for="secret">密钥:</label><br>
                    <input id="secret" type="password" style="width:90%;height:38px;font-size:18px;border-radius:6px;border:1px solid #888;padding:6px 10px;" />
                </div>
            </div>
            <button id="start-btn" style="margin-top:10px;width:100%;height:44px;font-size:18px;border-radius:8px;background:#ffd700;color:#222;font-weight:bold;border:none;box-shadow:0 2px 8px rgba(0,0,0,0.08);">登录</button>
            <button id="help-btn" style="margin-top:12px;width:100%;height:40px;font-size:16px;border-radius:8px;background:#eee;color:#333;font-weight:bold;border:none;box-shadow:0 1px 4px rgba(0,0,0,0.06);">帮助</button>
        </div>
    </div>
    <div id="main-area" style="display:none;width:100vw;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-width:440px;min-height:480px;">
        <!-- 房间号窗口，弹幕区上方且自适应 -->
        <div id="roomid-info" style="display:none;">
            <div class="roomid-block">
                <span class="roomid-label">房间号：</span>
                <span id="roomid-value"></span>
            </div>
            <div class="roomid-block">
                <span class="roomid-label">API用量：</span>
                <span id="usage-count">0</span>
                <span class="usage-unit">字符</span>
            </div>
        </div>
        <!-- 弹幕区自适应，顶部有margin避免与房间号重叠 -->
        <div id="danmu-list" style="
            display:none;
            position:relative;
            height:80vh;
            max-height:80vh;
            border:3px solid var(--main-border);
            overflow-y:auto;
            overflow-x:hidden;
            background:#fff;
            color:#222;
            font-family:'Comic Sans MS','Chalkboard SE','微软雅黑',Arial,sans-serif;
            padding:32px 18px;
            margin:18px auto 0 auto;
            box-sizing:border-box;
            border-radius:28px;
            box-shadow:var(--main-shadow);
            transition:background 0.3s;
            min-height:180px;
        ">
            <!-- 弹幕内容在这里 -->
        </div>
    </div>
    <!-- 退出登录按钮，固定在右下角 -->
    <button id="logout-btn" style="
        display:none;
        position:fixed;
        right:32px;
        bottom:32px;
        z-index:2001;
        height:44px;
        font-size:17px;
        border-radius:10px;
        background:#eee;
        color:#333;
        font-weight:bold;
        border:none;
        box-shadow:0 2px 8px rgba(0,0,0,0.10);
        padding:0 28px;
        cursor:pointer;
    ">退出登录</button>
    <!-- 更换背景按钮和文件选择框，左下角固定 -->
    <button id="bg-btn" style="
        position:fixed;
        left:32px;
        bottom:32px;
        z-index:2001;
        height:44px;
        font-size:16px;
        border-radius:10px;
        background:#eee;
        color:#333;
        font-weight:bold;
        border:none;
        box-shadow:0 2px 8px rgba(0,0,0,0.10);
        padding:0 22px;
        cursor:pointer;
    ">更换背景</button>
    <input type="file" id="bg-file" accept="image/*" style="display:none;" />
    <div id="popup">
        <span id="popup-close">✖</span>
        <div id="popup-content">这里是弹窗内容</div>
    </div>
    <div id="help-popup" style="display:none;position:fixed;left:50%;top:45%;transform:translate(-50%,-50%);background:#fff;color:#222;border:1px solid #888;border-radius:10px;z-index:2000;min-width:260px;max-width:90vw;box-shadow:0 2px 16px rgba(0,0,0,0.18);padding:28px 22px;">
        <span id="help-popup-close" style="float:right;cursor:pointer;font-size:20px;color:#888;">✖</span>
        <div id="help-popup-content">
            <!-- 这里是帮助内容，请自行修改 -->
            <h3 style="margin-top:0;">帮助</h3>
            <p>*欢迎使用本弹幕姬！乾杯 - ( ゜- ゜)つロ</p>
            <p>*房间号，APP ID和秘钥为必填项。</p>
            <p>
                *<a href="https://docs.qq.com/doc/DS0VZRkdRVU9GSXBY" target="_blank" style="color:#1976d2;text-decoration:underline;">点我查看教程</a>
            </p>
        </div>
    </div>
    <div id="author-info" style="
        position:fixed;
        left:0;
        bottom:0;
        width:100vw;
        text-align:center;
        color:#000000;
        font-size:14px;
        background:rgba(255,255,255,0.92);
        z-index:100;
        padding:10px 0 8px 0;
        box-shadow:0 -2px 12px rgba(255,182,213,0.08);
        user-select:none;
    ">
        作者：<a href="https://space.bilibili.com/3772038" target="_blank" style="color:#1976d2;text-decoration:underline;">@XRyon</a>
        &nbsp;|&nbsp;
        <a href="https://github.com/X-Ryon/blivedmj-translator" target="_blank" style="color:#1976d2;text-decoration:underline;">前往Github仓库</a><br>
        版本：v1.4.0 &nbsp;|&nbsp; 最后更新：2025-05-17<br>
        声明： 本项目仅供学习交流，禁止商用
    </div>
    <script src="script.js"></script>
</body>
</html>